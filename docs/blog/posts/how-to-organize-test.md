---
date: 2024-11-25 12:23
title: 如何整理试题文件？
category: 指引
author: cppHusky

---

我将以一份「计算机组成原理」试题文件为例，介绍如何整理试题文件。

---

## 准备工作

### 准备好需要上传的试题

如果你手中有需要上传的试题，请直接跳转 [使用 BYRDOCS 命令行工具](#使用-byrdocs-命令行工具)。

如果你手中没有需要上传的试题，只是想帮助我们整理文件的话，那么你可以从 [待上传和整理的文件](https://github.com/orgs/byrdocs/discussions/8) 中挑选一些试题，下载到本地后再来整理。

建议在挑选试题前先浏览一下其他人的评论，以免你的整理计划与其他人重复。

当然，也建议你在有整理计划之后发送一条评论。如果整理完了，也记得把对应的目录打勾以示完成。

现在我选择了 [bupt-cs-gallery/计算机组成原理/往年题](https://github.com/faranten/bupt-cs-gallery/tree/main/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%BE%80%E5%B9%B4%E9%A2%98) 作为接下来我要整理的文件夹，所以我在讨论区发了[这条评论](https://github.com/orgs/byrdocs/discussions/8#discussioncomment-11362309)。

### 使用 BYRDOCS 命令行工具

如果你有想要上传的文件，你需要通过一个名为 `byrdocs` 的命令行工具来执行上传操作。

你可以用 `pip` 或 `pipx` 来下载它，以下是我自己的用例：

```shell
# Windows Powershell
pip3 install byrdocs-cli
# Arch Linux
sudo pacman -S pipx
pipx install byrdocs-cli
```

这个工具可能会更新，所以时常升级是个好习惯。

```shell
# 注意，安装时使用哪个指令，升级时也应当使用哪个指令
pip3 upgrade byrdocs-cli # 使用 pip 来更新
pipx upgrade byrdocs-cli # 使用 pipx 来更新
```

你需要登录才可以使用文件上传功能。

```shell
byrdocs login # 输入此命令以登录
```

接下来按照引导，用浏览器打开对应的网址，再在浏览器中完成验证即可。

```shell
# 若命令行中显示如下消息，则说明登录成功
Login successful, token saved to /home/cpphusky/.config/byrdocs/token
```

更多帮助请使用 `byrdocs -h` 查看。

### 处理 archive 档案库

我们的元信息存储在 [byrdocs-archive](https://github.com/byrdocs/byrdocs-archive) 中。当你向本站添加文件后，你也应当为它录入相应的元信息，再通过 Pull Request 提交到我们的仓库。

所以，你需要先把本仓库 Fork 到自己的账号中。对于我自己来说，就是 [cppHusky/byrdocs-archive](https://github.com/cppHusky/byrdocs-archive)。

## 文件上传

### 文件检阅

打开 [往年题/计组试卷](https://github.com/faranten/bupt-cs-gallery/blob/main/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%BE%80%E5%B9%B4%E9%A2%98/%E8%AE%A1%E7%BB%84%E8%AF%95%E5%8D%B7.pdf)，会发现，这份题目实际上是由四部分组成的：

- 北京邮电大学2010-2011学年第1学期《计算机组成原理》期末考试试题（A）
- 北京邮电大学2010-2011学年第1学期《计算机组成原理》期末考试 标准答案（A）
- 计算机组成原理试卷（B 卷） 2004.6
- 计算机组成原理（B 卷）参考答案及评分标准 2004.6

所以这份文件其实包含两套题目的原题和答案。我们必须把它拆分为两个文件。我在这里使用了 `pdftk` 命令来实现文件拆分。

```shell
pdftk 计组试卷.pdf cat 1-12 output 2010-2011-计组试卷.pdf
```

> 还有一些类似情况需要处理，比如说，如果你发现有两份文件，其中一份是试题，而另一份是相应的答案，那么你完全可以考虑把它们合并成同一个PDF，这样也更方便其他人搜索下载。

而那份 2004 年的题目实在太古老了，不值得上传，我就不要它了。

> 有些题目过于古老（超过15年），参考价值有限，我们一般不建议上传；除非这门课程可用的试题太少，只能拿较老的题来作为参考。

### 避免重复

在你上传文件之前，最好先在 [byrdocs.org](https://byrdocs.org) 中搜索一下有没有同样的试题，以免重复。

我搜索 `2010-2011 计算机 组成` 字样后，发现没有 2010-2011 年的计组试卷，说明没有重复，于是就可以正常上传了。

### 通过 `byrdocs` 指令上传

接下来，我们通过 `byrdocs` 指令来上传此文件。

```shell
> byrdocs upload 2010-2011-计组试卷.pdf
Uploading: 100%|████████████████████████████████| 8.60M/8.60M [00:06<00:00, 1.26MB/s]
File uploaded successfully
	File URL: https://byrdocs.org/files/8986bcea504b391963c325a0e43bdc59.pdf
```

出现这样的信息就代表上传成功了。

接下来会提示我们是否进行元信息录入。如果你想顺便录入此元信息，按下 `Enter` 键即可。

### 如果显示 `文件已存在`

首先，你可能忘了[查重](#避免重复)。

另外，有可能其他人上传了文件，但使用了不规范的名字，导致你没有查到。

> 建议有能力的人通过搜索这个文件的 md5sum 来查看站内是否有这个文件，并确认其命名是否规范。如果发现命名不规范，你可以修改它。

当然还有一种可能，也有其他人在试图上传这个文件，并且比你快了一步。这时建议你暂缓上传。

## 录入元信息

有两种方式可以录入元信息：直接填写 .yml 文件，或者通过 `byrdocs` 辅助填写。

直接填写请参考 [关于文件/文件元信息](https://github.com/byrdocs/byrdocs-archive/wiki/%E5%85%B3%E4%BA%8E%E6%96%87%E4%BB%B6#%E6%96%87%E4%BB%B6%E5%85%83%E4%BF%A1%E6%81%AF) 中的指引进行，这里不做赘述。

接下来我们使用 `byrdocs` 指令的辅助填写来完成这项工作。

### 类型

当然是「试题」

### 学院

试题中没有直接透露本门试卷是什么学院的。如果没有其他辅助信息可以帮我们辨别的话，这段应该不填。（原则，宁缺勿滥）

但所幸，这个试题的 [来源仓库](https://github.com/faranten/bupt-cs-gallery) 本身是收集计算机学院资源的，所以我们至少知道它是计算机学院的试题。

### 学段

我们不太清楚这是本科试题还是研究生试题，但是根据仓库的描述，我们估计它是本科生的内容。

这种估计不算是很强的证据，所以我们可填可不填。我本人一般不填（填为「未知」。

### 课程

一目了然，这门课程的名字当然是《计算机组成原理》。

### 学年

这份试卷的信息记载比较详细，我们可以看出它的起始年为 2010，结束年为 2011，学期为第 1 学期，是期末考试。

> 如果不知道是期中还是期末考试，填「未知」。
> 如果不知道是哪个学期的考试，填「未知」。
> 如果试卷上只写了一个年份，没有其他信息（比如，2020年），那么起始年、结束年都填写为 2020，学期填「未知」。
> 但是，如果你有任何线索可以辅助自己判断考试时间，那就可以细化一下。比如，若试卷上标注了 2004年6月，那就可以合理猜想，这份试卷是 2003-2004 学年第二学期的期末试题。

### 提交

确认信息无误后，你就可以提交了。

接下来我们会看到一个 .yml 格式的文件，它的内容是

```yaml
id: 8986bcea504b391963c325a0e43bdc59
url: https://byrdocs.org/files/8986bcea504b391963c325a0e43bdc59.pdf
type: test
data:
  college:
  - 计算机学院（国家示范性软件学院）
  course:
    name: 计算机组成原理
  time:
    start: '2010'
    end: '2011'
    semester: First
    stage: 期末
  filetype: pdf
  content:
  - 原题
  - 答案
```

## 将元信息推送至 archive

当我们 Fork 好自己的仓库之后，应当先在自己的仓库中修改好元信息，再提 Pull Request。

我们可以在 GitHub 网站上直接添加文件或修改元信息，也可以通过 Git 在本地仓库内进行编辑，再推送到 GitHub 的仓库中。

如果你对 Git 操作比较熟悉，我们强烈推荐你使用第二种方法。不会也没关系，这里我以第一种方法为例来讲解。

1. 首先，通过 `Sync fork` 与主仓库同步。
2. 打开 `metadata` 目录，点击 `Add file`->`Upload files`。
3. 上传 .yml 文件（注意，不要上传 PDF！你应当上传的是元信息文件）。
4. 建议在 `Commit Changes` 之前简单地说明一下你做了什么。比如，我在这里填写的是 `添加 2010-2011学年第1学期《计算机组成原理》期末考试试题`。

接下来，再点击 `Contribute`->`Open pull request`->`Create pull request`。

然后主仓库中就会创建一个 PR。经过管理员审核并通过后，这份试题就可以在网上搜索到了。

---

以上就是整理试题文件的完整操作。

如果你有想要整理的试题文件，也可以参考这些步骤来完成。
